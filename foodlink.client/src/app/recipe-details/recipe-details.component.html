<div class="recipe-detail-container" *ngIf="recipe">
    <!-- TÃ­tulo da Receita (Sem fundo verde, integrado na navbar) -->
    <h1 class="recipe-title">{{ recipe.title }} by User</h1>

    <!-- InformaÃ§Ãµes do usuÃ¡rio -->
    <div class="recipe-user">
        <!-- InformaÃ§Ãµes do usuÃ¡rio -->
        <div class="user-info">
            <img src="assets/user-avatar.png" class="user-avatar">
            <div>
                <p>By User</p>
                <p class="recipe-date">Created: {{ recipe.createDate | date:'longDate' }}</p>
            </div>
        </div>

        <!-- BotÃµes de aÃ§Ã£o (empilhados verticalmente) -->
        <div class="recipe-actions">
            <button class="skip-btn">Skip to recipe</button>
            <button class="add-btn">Add to book</button>
        </div>
    </div>
    <hr />
    <!-- Imagem da receita (placeholder, pois nÃ£o hÃ¡ imagens no BD) -->
    <div class="recipe-image">
        <img src="assets/placeholder-image.png" alt="Recipe Image">
    </div>

    <!-- DescriÃ§Ã£o -->
    <p class="recipe-description">{{ recipe.description }}</p>

    <hr />
    <!-- SeÃ§Ã£o de Ingredientes -->
    <h2>Recipe</h2>
    <div class="recipe-section">
        <h3>Ingredients</h3>
        <p>{{ recipe.ingredients }}</p> <!-- ðŸ”¥ Agora tratado como texto, nÃ£o lista -->
    </div>

    <!-- SeÃ§Ã£o de InstruÃ§Ãµes -->
    <div class="recipe-section">
        <h3>Preparation</h3>
        <p>{{ recipe.instructions }}</p>
    </div>

    <!-- SeÃ§Ã£o de ComentÃ¡rios -->
    <div class="recipe-comments">
        <h3>Comments</h3>

        <!-- Caixa de comentÃ¡rio -->
        <textarea [(ngModel)]="newComment" placeholder="Leave a comment"></textarea>
        <button class="comment-btn" (click)="addComment()">Comment</button>

        <!-- Lista de ComentÃ¡rios -->
        <div class="comment-list" *ngIf="comments.length > 0">
            <div class="comment-item" *ngFor="let comment of comments">
                <p class="comment-text">{{ comment.commentText }}</p>

                <!-- ðŸ”¹ ObtÃ©m o username dinamicamente -->
                <p class="comment-date">
                    Posted by <strong>{{ getUserName(comment.userId) }}</strong>
                </p>

                <!-- BotÃ£o de deletar -->
                <button class="delete-btn" (click)="deleteComment(comment.idComment)">
                    ðŸ—‘
                </button>
            </div>
        </div>

        <!-- Caso nÃ£o haja comentÃ¡rios -->
        <p *ngIf="comments.length === 0" class="no-comments">No comments yet. Be the first to comment!</p>
    </div>

    <!-- Modal de ConfirmaÃ§Ã£o -->
    <div class="modal-overlay" *ngIf="showModal">
        <div class="modal-content">
            <h3>Are you sure?</h3>
            <p>Do you really want to delete this comment?</p>
            <div class="modal-buttons">
                <button class="confirm-btn" (click)="confirmDelete()">Delete</button>
                <button class="cancel-btn" (click)="cancelDelete()">Cancel</button>
            </div>
        </div>
    </div>
</div>
